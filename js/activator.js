/**
 * Created by Md Mazedul Islam Khan on 8/29/15.
 */

/*
|--------------------------------------------------------------------------
| Run the following function when the DOM is ready
|--------------------------------------------------------------------------
*/
jQuery(document).ready(function () {

    /*
    |--------------------------------------------------------------------------
    | Run the following function when the activator form is submit
    |--------------------------------------------------------------------------
    */
    jQuery('#activator').on('submit', function (event) {

        /*
        |--------------------------------------------------------------------------
        | Disable default submit button behaviour
        |--------------------------------------------------------------------------
        */
        event.preventDefault();

        /*
        |--------------------------------------------------------------------------
        | Start Ajax connection
        |--------------------------------------------------------------------------
        */
        jQuery.ajax({

            /*
            |--------------------------------------------------------------------------
            | API path
            |--------------------------------------------------------------------------
            */
            url: '/wp-content/plugins/activator/functions.php',

            /*
            |--------------------------------------------------------------------------
            | Data sending method to the API: "body {x-www-form-urlencoded}"
            |--------------------------------------------------------------------------
            */
            data: jQuery(this).serialize(),

            /*
            |--------------------------------------------------------------------------
            | API request method
            |--------------------------------------------------------------------------
            */
            method: 'POST',

            /*
             |--------------------------------------------------------------------------
             | Show pre-loader
             |--------------------------------------------------------------------------
             */
            beforeSend: function () {
                jQuery('#pre-loader').show();
            },

            /*
             |--------------------------------------------------------------------------
             | Hide pre-loader
             |--------------------------------------------------------------------------
             */
            complete: function () {
                jQuery('#pre-loader').hide();
            },
            success: function (data) {
                console.log(data);
            }
        });
        return false;
    });
});